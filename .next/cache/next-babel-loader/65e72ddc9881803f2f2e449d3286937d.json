{"ast":null,"code":"var _jsxFileName = \"/Users/amagi/src/github.com/fand/next-docs-template/components/Layout.js\";\nimport React, { useEffect, useContext, useRef } from \"react\";\nimport { useRouter } from 'next/router';\nimport throttle from \"lodash.throttle\";\nimport styled from \"styled-components\";\nimport constants from \"./constants\";\nimport Sidebar from \"./sidebar\";\nimport Header from \"./header\";\nimport Meta from \"./meta\";\nimport Background from \"./background\";\nimport { AppContext, DispatchContext } from \"../lib/context\";\nvar Wrapper = styled.div.withConfig({\n  displayName: \"Layout__Wrapper\",\n  componentId: \"bk4rf0-0\"\n})([\"position:fixed;top:0;left:0;height:100%;width:100vw;overflow:visible;display:flex;transition:left 0.3s;@media (max-width:\", \"px){width:auto;left:-82vw;&.menu{left:0;}}\"], constants.mobile);\nvar SidebarWrapper = styled.div.withConfig({\n  displayName: \"Layout__SidebarWrapper\",\n  componentId: \"bk4rf0-1\"\n})([\"width:270px;-webkit-overflow-scrolling:touch;@media (max-width:\", \"px){width:82vw;}\"], constants.mobile);\nvar BodyColumn = styled.div.withConfig({\n  displayName: \"Layout__BodyColumn\",\n  componentId: \"bk4rf0-2\"\n})([\"flex:1;position:relative;@media (max-width:\", \"px){width:100vw;}\"], constants.mobile);\nvar MainWrapper = styled.main.withConfig({\n  displayName: \"Layout__MainWrapper\",\n  componentId: \"bk4rf0-3\"\n})([\"position:absolute;top:0;left:0;height:100%;width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:20px;padding-top:60px;\"]);\nvar HeaderWrapper = styled.div.withConfig({\n  displayName: \"Layout__HeaderWrapper\",\n  componentId: \"bk4rf0-4\"\n})([\"position:absolute;top:0;width:100%;z-index:2;\"]);\n\nvar Layout = function Layout(props) {\n  var state = useContext(AppContext);\n  var dispatch = useContext(DispatchContext);\n  var bodyEl = useRef(null);\n  var watchScroll = throttle(function () {\n    if (bodyEl.current.scrollTop > 100) {\n      dispatch({\n        type: 'showHeader'\n      });\n    } else {\n      dispatch({\n        type: 'hideHeader'\n      });\n    }\n  }, 100);\n  useEffect(function () {\n    bodyEl.current.addEventListener(\"scroll\", watchScroll); // watchScroll();\n\n    return function () {\n      bodyEl.current.removeEventListener(\"scroll\", watchScroll);\n    };\n  }, []);\n  var router = useRouter();\n  var path = router.pathname;\n  var sc = state.isMenuVisible ? \"menu\" : \"\";\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(Wrapper, {\n    className: sc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(SidebarWrapper, {\n    className: sc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Sidebar, {\n    path: path,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(BodyColumn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(HeaderWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(MainWrapper, {\n    ref: bodyEl,\n    className: \"body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, props.children))), React.createElement(Background, {\n    color: state.color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }));\n};\n\nexport default Layout;","map":{"version":3,"sources":["/Users/amagi/src/github.com/fand/next-docs-template/components/Layout.js"],"names":["React","useEffect","useContext","useRef","useRouter","throttle","styled","constants","Sidebar","Header","Meta","Background","AppContext","DispatchContext","Wrapper","div","mobile","SidebarWrapper","BodyColumn","MainWrapper","main","HeaderWrapper","Layout","props","state","dispatch","bodyEl","watchScroll","current","scrollTop","type","addEventListener","removeEventListener","router","path","pathname","sc","isMenuVisible","children","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useRef } from \"react\";\nimport { useRouter } from 'next/router'\nimport throttle from \"lodash.throttle\";\nimport styled from \"styled-components\";\nimport constants from \"./constants\";\nimport Sidebar from \"./sidebar\";\nimport Header from \"./header\";\nimport Meta from \"./meta\";\nimport Background from \"./background\";\nimport { AppContext, DispatchContext } from \"../lib/context\";\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100vw;\n  overflow: visible;\n  display: flex;\n\n  transition: left 0.3s;\n  @media (max-width: ${constants.mobile}px) {\n    width: auto;\n    left: -82vw;\n    &.menu {\n      left: 0;\n    }\n  }\n`;\n\nconst SidebarWrapper = styled.div`\n  width: 270px;\n  -webkit-overflow-scrolling: touch;\n  @media (max-width: ${constants.mobile}px) {\n    width: 82vw;\n  }\n`;\n\nconst BodyColumn = styled.div`\n  flex: 1;\n  position: relative;\n  @media (max-width: ${constants.mobile}px) {\n    width: 100vw;\n  }\n`;\n\nconst MainWrapper = styled.main`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  padding: 20px;\n  padding-top: 60px; /* Header height + padding */\n`;\n\nconst HeaderWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 2;\n`;\n\nconst Layout = (props) => {\n  const state = useContext(AppContext);\n  const dispatch = useContext(DispatchContext);\n  const bodyEl = useRef(null);\n\n  const watchScroll = throttle(() => {\n    if (bodyEl.current.scrollTop > 100) {\n      dispatch({ type: 'showHeader' });\n    } else {\n      dispatch({ type: 'hideHeader' });\n    }\n  }, 100);\n\n  useEffect(() => {\n    bodyEl.current.addEventListener(\"scroll\", watchScroll);\n    // watchScroll();\n\n    return () => {\n      bodyEl.current.removeEventListener(\"scroll\", watchScroll);\n    }\n  }, []);\n\n\n  const router = useRouter();\n  const path = router.pathname;\n\n  const sc = state.isMenuVisible ? \"menu\" : \"\";\n\n  return (\n    <div>\n      <Meta />\n      <Wrapper className={sc}>\n        <SidebarWrapper className={sc}>\n          <Sidebar path={path} />\n        </SidebarWrapper>\n        <BodyColumn>\n          <HeaderWrapper>\n            <Header />\n          </HeaderWrapper>\n          <MainWrapper ref={bodyEl} className=\"body\">\n            {props.children}\n          </MainWrapper>\n        </BodyColumn>\n      </Wrapper>\n      <Background color={state.color} />\n    </div>\n  );\n};\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}