(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{JVtx:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/how-it-works",function(){var e=i("LKF/");return{page:e.default||e}}])},"LKF/":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var n=i("kOwS"),a=i("qNsG"),l=(i("q1tI"),i("E/Ix")),d={},o="wrapper";function r(e){var t=e.components,i=Object(a.a)(e,["components"]);return Object(l.mdx)(o,Object(n.a)({},d,i,{components:t,mdxType:"MDXLayout"}),Object(l.mdx)("h1",{id:"how-it-works"},"How it works"),Object(l.mdx)("p",null,"This page explains how MDMT works.",Object(l.mdx)("br",{parentName:"p"}),"\n","It maybe useful for customizing."),Object(l.mdx)("h2",{id:"file-structure"},"File structure"),Object(l.mdx)("p",null,"MDMT is composed of the following files / directories:"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"pages/"),": Markdown files corresponding to pages"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"components/"),": React components"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"static/"),": Static files like images"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"lib/"),": Core application sources"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"scripts/"),": Scripts for build phase"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"docs/"),": Output directory"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("inlineCode",{parentName:"li"},"config.js"),": Configuration of MDMT")),Object(l.mdx)("p",null,"See ",Object(l.mdx)("inlineCode",{parentName:"p"},"pages/")," to add / edit articles, see ",Object(l.mdx)("inlineCode",{parentName:"p"},"components")," to edit design, and see ",Object(l.mdx)("inlineCode",{parentName:"p"},"lib/")," to customize",Object(l.mdx)("br",{parentName:"p"}),"\n","the data flow."),Object(l.mdx)("h2",{id:"data-flow"},"Data flow"),Object(l.mdx)("p",null,"MDMT uses Redux-like dataflow system built with React Hooks.",Object(l.mdx)("br",{parentName:"p"}),"\n","See ",Object(l.mdx)("inlineCode",{parentName:"p"},"lib/store.ts")," for state definition and actions, and see ",Object(l.mdx)("inlineCode",{parentName:"p"},"lib/context.ts")," for data passing."),Object(l.mdx)("h2",{id:"build-scripts"},"Build scripts"),Object(l.mdx)("p",null,"Build script is defined in package.json like thi:"),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'"build": "NODE_ENV=production run-s clean build:manifest build:build build:export build:nojekyll build:preload build:sw",\n')),Object(l.mdx)("p",null,"It seems complicated, but it just runs following scripts in order."),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"clean"),": Remove old outputs"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"build:manifest"),": Generate manifest.json from config.js"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"build:build"),", ",Object(l.mdx)("strong",{parentName:"li"},"build:export"),": Output static files to ",Object(l.mdx)("inlineCode",{parentName:"li"},"docs/")),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"build:nojekyll"),": Workaround for GitHub Pages"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"build:preload"),": Workaround for GitHub Pages"),Object(l.mdx)("li",{parentName:"ul"},Object(l.mdx)("strong",{parentName:"li"},"build:sw"),": Generate ServiceWorker file")))}r.isMDXComponent=!0,r.frontmatter={title:"How it works \ud83d\udc8a MDMT - Markdown Document Template #MDMTjs"}}},[["JVtx",1,0]]]);